# YACD V2 - 新架构设计

## 概述

这是 YACD 的全新前端架构，采用现代化的设计系统和组件架构。与现有 V1 版本并行开发，支持渐进式迁移。

## 架构特点

### 1. 模块化设计
- 清晰的目录结构
- 组件职责分离
- 可复用的设计系统

### 2. 现代化技术栈
- React 18 + TypeScript
- Tailwind CSS 作为主要样式框架
- 原子化设计系统
- 响应式优先

### 3. 渐进式迁移
- 与 V1 版本并行存在
- 可以逐页面迁移
- 共享数据层和 API

## 目录结构

```
src/v2/
├── components/          # 组件库
│   ├── ui/             # 基础 UI 组件
│   ├── layout/         # 布局组件
│   ├── business/       # 业务组件
│   └── icons/          # 图标组件
├── pages/              # 页面组件
├── styles/             # 样式系统
│   ├── globals.css     # 全局样式
│   ├── components.css  # 组件样式
│   └── utilities.css   # 工具类
├── hooks/              # 自定义 Hooks
├── utils/              # 工具函数
├── types/              # 类型定义
├── constants/          # 常量定义
└── App.tsx            # V2 应用入口
```

## 设计原则

1. **组件优先**: 一切皆组件，高度可复用
2. **类型安全**: 完整的 TypeScript 支持
3. **性能优化**: 代码分割和懒加载
4. **可访问性**: 遵循 WCAG 标准
5. **响应式**: 移动端优先设计

## 迁移策略

### 阶段 1: 基础设施 ✅
- [x] 创建 V2 目录结构
- [x] 建立设计系统
- [x] 创建基础组件库
- [x] 集成现有 API 和状态管理

### 阶段 2: 核心页面 🚧
- [x] 首页重构 (Dashboard)
- [x] 代理页面重构 (Proxies - 基础版本)
- [x] 连接页面重构 (Connections - 基础版本)

### 阶段 3: 功能完善 ⏳
- [ ] 配置页面
- [ ] 日志页面
- [ ] 规则页面
- [ ] 完善代理和连接页面功能

### 阶段 4: 优化和迁移 ⏳
- [ ] 性能优化
- [ ] 完全替换 V1

## 使用方式

### 开发模式
```bash
# 启动 V2 开发模式
npm run dev:v2

# 同时运行 V1 和 V2 (不同端口)
npm run dev:both
```

### 构建
```bash
# 构建 V2 版本
npm run build:v2

# 构建两个版本
npm run build:all
```

## 兼容性

- 与现有 V1 版本完全兼容
- 共享相同的 API 和数据层
- 可以在运行时切换版本
- 支持渐进式迁移 
import{r as d,j as e,w as _,x as T,y as f,l as P,n as R,b as C,z as k,u as y,C as L,S as N,A as b,k as W,c as w,D as I}from"./index-327d1c16.js";import{a as M,F as z}from"./index.esm-2e521957.js";import{r as F,s as A,f as D}from"./logs-6f2ec9fe.js";import{d as E,F as H,p as $}from"./Fab-f562133d.js";import{u as B}from"./useRemainingViewPortHeight-741cb570.js";import{P as q,a as K}from"./play-dca16971.js";const V="_RuleSearch_1kpuc_1",Y="_RuleSearchContainer_1kpuc_5",G="_inputWrapper_1kpuc_10",J="_input_1kpuc_10",O="_iconWrapper_1kpuc_43",Q={RuleSearch:V,RuleSearchContainer:Y,inputWrapper:G,input:J,iconWrapper:O};function U({dispatch:s,searchText:a,updateSearchText:c}){const[o,t]=d.useState(a),i=d.useCallback(r=>{s(c(r))},[s,c]),l=d.useMemo(()=>E(i,300),[i]),u=r=>{t(r.target.value),l(r.target.value)};return e.jsx("div",{className:Q.RuleSearch,children:e.jsx("div",{className:"unified-search-container",children:e.jsx("input",{type:"text",value:o,onChange:u,className:"unified-search-input",placeholder:"Search rules..."})})})}const X=s=>({searchText:T(s),updateSearchText:f}),Z=_(X)(U),ee="_logMeta_1a2c6_1",se="_logType_1a2c6_8",ae="_logTime_1a2c6_18",oe="_logText_1a2c6_24",te="_logsWrapper_1a2c6_37",ce="_logPlaceholder_1a2c6_51",ne="_logPlaceholderIcon_1a2c6_68",re="_dark_1a2c6_81",le="_search_1a2c6_104",n={logMeta:ee,logType:se,logTime:ae,logText:oe,logsWrapper:te,logPlaceholder:ce,logPlaceholderIcon:ne,dark:re,search:le},{useCallback:m,memo:ie,useEffect:x}=W,h=30,ge={debug:"#28792c",info:"var(--bg-log-info-tag)",warning:"#b99105",error:"#c11c1c"};function ue({time:s,even:a,payload:c,type:o}){const t=w({even:a},"log");return e.jsx("div",{className:t,children:e.jsxs("div",{className:n.logMeta,children:[e.jsx("div",{className:n.logTime,children:s}),e.jsx("div",{className:n.logType,style:{backgroundColor:ge[o]},children:o}),e.jsx("div",{className:n.logText,children:c})]})})}function de(s,a){return a[s].id}const j=ie(({index:s,style:a,data:c})=>{const o=c[s];return e.jsx("div",{style:a,children:e.jsx(ue,{...o})})},M);j.displayName="MemoRow";function he({dispatch:s,logs:a}){const{data:c}=P(),o=c["log-level"],[t,i]=R(I),l=C(),u=m(()=>{t?F({...l,logLevel:o}):A(),i(!t)},[l,o,t,i]),r=m(v=>s(k(v)),[s]);x(()=>{D({...l,logLevel:o},r)},[l,o,r]),x(()=>()=>{s(f(""))},[s]);const[S,p]=B(),{t:g}=y();return e.jsxs("div",{children:[e.jsx(L,{title:g("Logs")}),e.jsx("div",{className:n.search,children:e.jsx(Z,{})}),e.jsx("div",{ref:S,style:{paddingBottom:h},children:a.length===0?e.jsxs("div",{className:n.logPlaceholder,style:{height:p-h},children:[e.jsx("div",{className:n.logPlaceholderIcon,children:e.jsx(N,{width:200,height:200})}),e.jsx("div",{children:g("no_logs")})]}):e.jsxs("div",{className:n.logsWrapper,children:[e.jsx(z,{height:p-h,width:"100%",itemCount:a.length,itemSize:80,itemData:a,itemKey:de,children:j}),e.jsx(H,{icon:t?e.jsx(q,{size:16}):e.jsx(K,{size:16}),mainButtonStyles:t?{background:"#e74c3c"}:{},style:$,text:g(t?"Resume Refresh":"Pause Refresh"),onClick:u})]})})]})}const pe=s=>({logs:b(s)}),ve=_(pe)(he);export{ve as default};

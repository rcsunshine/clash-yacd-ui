var I=Object.defineProperty;var V=(s,n,t)=>n in s?I(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var E=(s,n,t)=>(V(s,typeof n!="symbol"?n+"":n,t),t);import{R as B,j as e,k as N,r as m,l as R,P as T}from"./index.v2-7c3d67aa.js";import{B as k,C as p,b as j}from"./Card-631a1429.js";import{F as z}from"./VirtualList-adb6d831.js";const M=({title:s,message:n,details:t,type:i="error",onRetry:h,onDismiss:d,className:f,showDetails:x=!1})=>{const[v,g]=B.useState(!1),y=()=>{switch(i){case"warning":return{border:"border-yellow-200 dark:border-yellow-800",bg:"bg-yellow-50 dark:bg-yellow-900/20",icon:"text-yellow-600 dark:text-yellow-400",title:"text-yellow-800 dark:text-yellow-200",message:"text-yellow-700 dark:text-yellow-300"};case"network":return{border:"border-orange-200 dark:border-orange-800",bg:"bg-orange-50 dark:bg-orange-900/20",icon:"text-orange-600 dark:text-orange-400",title:"text-orange-800 dark:text-orange-200",message:"text-orange-700 dark:text-orange-300"};case"api":return{border:"border-blue-200 dark:border-blue-800",bg:"bg-blue-50 dark:bg-blue-900/20",icon:"text-blue-600 dark:text-blue-400",title:"text-blue-800 dark:text-blue-200",message:"text-blue-700 dark:text-blue-300"};default:return{border:"border-red-200 dark:border-red-800",bg:"bg-red-50 dark:bg-red-900/20",icon:"text-red-600 dark:text-red-400",title:"text-red-800 dark:text-red-200",message:"text-red-700 dark:text-red-300"}}},b=()=>{const c="w-5 h-5";switch(i){case"warning":return e.jsx("svg",{className:c,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"network":return e.jsx("svg",{className:c,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})});case"api":return e.jsx("svg",{className:c,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return e.jsx("svg",{className:c,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}},r=y();return e.jsx("div",{className:N("rounded-lg border p-4",r.border,r.bg,f),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:N("flex-shrink-0 mt-0.5",r.icon),children:b()}),e.jsxs("div",{className:"flex-1",children:[s&&e.jsx("h3",{className:N("font-medium text-sm mb-1",r.title),children:s}),e.jsx("p",{className:N("text-sm",r.message),children:n}),t&&x&&e.jsxs("div",{className:"mt-3",children:[e.jsx("button",{onClick:()=>g(!v),className:N("text-xs underline hover:no-underline focus:outline-none",r.message),children:v?"隐藏详情":"查看详情"}),v&&e.jsx("div",{className:"mt-2 p-3 bg-white dark:bg-gray-800 rounded border text-xs font-mono text-gray-600 dark:text-gray-400 whitespace-pre-wrap overflow-auto max-h-32",children:t})]}),(h||d)&&e.jsxs("div",{className:"mt-3 flex space-x-2",children:[h&&e.jsx(k,{size:"sm",variant:"outline",onClick:h,className:"text-xs",children:"重试"}),d&&e.jsx(k,{size:"sm",variant:"ghost",onClick:d,className:"text-xs",children:"忽略"})]})]}),d&&e.jsx("button",{onClick:d,className:N("flex-shrink-0 rounded-full p-1 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",r.icon),children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})},A=s=>e.jsx(M,{...s,type:"network",title:s.title||"网络连接失败"}),H=s=>e.jsx(M,{...s,type:"api",title:s.title||"API 请求失败"});class P extends m.Component{constructor(t){super(t);E(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});E(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){this.setState({errorInfo:i}),this.props.onError&&this.props.onError(t,i),console.group("🚨 V2 Error Boundary"),console.error("Error:",t),console.error("Error Info:",i),console.groupEnd()}render(){return this.state.hasError?this.props.fallback&&this.state.error?this.props.fallback(this.state.error,this.state.errorInfo):e.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:e.jsx(p,{className:"w-full max-w-md",children:e.jsxs(j,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"组件加载失败"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"页面组件出现异常，请尝试重新加载"}),this.props.showDetails&&this.state.error&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-3 mb-4 text-left",children:[e.jsx("div",{className:"text-xs font-mono text-red-600 dark:text-red-400 break-words",children:this.state.error.message}),this.state.errorInfo&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer",children:"查看详细错误信息"}),e.jsx("pre",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]})]}),e.jsxs("div",{className:"space-x-3",children:[e.jsx(k,{variant:"primary",size:"sm",onClick:this.handleRetry,children:"重试"}),e.jsx(k,{variant:"outline",size:"sm",onClick:this.handleReload,children:"刷新页面"})]})]})})}):this.props.children}}const S=({children:s})=>e.jsx(P,{showDetails:!1,onError:(n,t)=>{console.error("Page Error:",n,t)},children:s}),W=(s,n="error")=>{const t=document.createElement("div");switch(t.className="fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg max-w-sm transition-all duration-300 transform translate-x-full",n){case"success":t.className+=" bg-green-500 text-white";break;case"warning":t.className+=" bg-yellow-500 text-white";break;default:t.className+=" bg-red-500 text-white"}t.textContent=s,document.body.appendChild(t),setTimeout(()=>{t.classList.remove("translate-x-full")},100),setTimeout(()=>{t.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(t)},300)},4e3)};function $(s={}){const{showToast:n=!0,logError:t=!0,retryable:i=!0,onError:h}=s,[d,f]=m.useState([]),x=m.useCallback(r=>r instanceof TypeError&&r.message.includes("fetch")?{type:"network",message:"网络连接失败，请检查网络连接",details:r.message,retryable:!0}:r instanceof Error?r.message.includes("Unauthorized")||r.message.includes("401")?{type:"api",message:"API 认证失败，请检查密钥配置",details:r.message,code:401,retryable:!1}:r.message.includes("404")||r.message.includes("Not Found")?{type:"api",message:"API 接口不存在",details:r.message,code:404,retryable:!1}:r.message.includes("timeout")||r.message.includes("TIMEOUT")?{type:"network",message:"请求超时，请重试",details:r.message,retryable:!0}:{type:"unknown",message:r.message||"未知错误",details:r.stack,retryable:i}:typeof r=="string"?{type:"unknown",message:r,retryable:i}:{type:"unknown",message:"发生未知错误",retryable:i},[i]),v=m.useCallback((r,c)=>{const l=x(r);if(c&&(l.details=c+(l.details?`
${l.details}`:"")),t&&(console.group(`🚨 Error Handler - ${l.type}`),console.error("Error:",r),console.error("Context:",c),console.error("Analyzed:",l),console.groupEnd()),n){const u=l.type==="network"?`🌐 ${l.message}`:l.type==="api"?`⚠️ ${l.message}`:l.type==="validation"?`📝 ${l.message}`:`❌ ${l.message}`;W(u,"error")}return f(u=>[...u,{...l,timestamp:Date.now()}]),h&&h(l),l},[x,t,n,h]),g=m.useCallback(()=>{f([])},[]),y=m.useCallback(r=>{f(c=>c.filter((l,u)=>u!==r))},[]),b=m.useCallback((r,c=3,l=1e3)=>async(...u)=>{let w;for(let a=0;a<=c;a++)try{return await r(...u)}catch(o){if(w=o,!x(o).retryable)throw o;if(a===c)break;await new Promise(C=>setTimeout(C,l*Math.pow(2,a)))}throw w},[x]);return{handleError:v,clearErrors:g,clearError:y,withRetry:b,errors:d,hasErrors:d.length>0}}function F(){return $({showToast:!0,logError:!0,retryable:!0})}const O=()=>{var w;const{data:s,isLoading:n,error:t,refetch:i}=R(),{handleError:h}=F(),[d,f]=m.useState(""),[x,v]=m.useState("all"),[g,y]=m.useState("rules"),b=m.useMemo(()=>s!=null&&s.rules?s.rules.filter(o=>{const L=d===""||o.payload.toLowerCase().includes(d.toLowerCase())||o.proxy.toLowerCase().includes(d.toLowerCase()),C=x==="all"||o.type===x;return L&&C}):[],[s==null?void 0:s.rules,d,x]),r=m.useMemo(()=>s!=null&&s.providers?Object.entries(s.providers).map(([a,o])=>({name:a,...o})):[],[s==null?void 0:s.providers]),c=m.useMemo(()=>s!=null&&s.rules?[...new Set(s.rules.map(o=>o.type))].sort():[],[s==null?void 0:s.rules]);if(B.useEffect(()=>{t&&h(t,"规则页面数据加载失败")},[t,h]),n)return e.jsx("div",{className:"page-wrapper rules-page",children:e.jsx("div",{className:"page-body",children:e.jsx("div",{className:"container-fluid px-4",children:e.jsx(T,{text:"正在加载规则数据..."})})})});if(t){const a=t instanceof TypeError&&t.message.includes("fetch"),o=t instanceof Error&&(t.message.includes("401")||t.message.includes("404")||t.message.includes("API"));return e.jsx("div",{className:"page-wrapper rules-page",children:e.jsx("div",{className:"page-body",children:e.jsx("div",{className:"container-fluid px-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-xl font-bold text-theme hidden lg:block",children:"规则"}),a?e.jsx(A,{message:"无法连接到 Clash API，请检查网络连接和API配置",details:String(t),onRetry:()=>i(),showDetails:!1}):o?e.jsx(H,{message:"API 请求失败，请检查API配置或权限",details:String(t),onRetry:()=>i(),showDetails:!1}):e.jsx(M,{title:"规则数据加载失败",message:"无法获取规则信息，请稍后重试",details:String(t),onRetry:()=>i(),showDetails:!1})]})})})})}const l=((w=s==null?void 0:s.rules)==null?void 0:w.length)||0,u=r.length;return e.jsx("div",{className:"page-wrapper rules-page",children:e.jsx("div",{className:"page-body",children:e.jsx("div",{className:"container-fluid px-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-4 px-6 bg-gradient-to-r from-slate-500/10 to-stone-500/10 dark:from-slate-500/20 dark:to-stone-500/20 rounded-lg border border-slate-300/50 dark:border-slate-600/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-slate-600 to-stone-700 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-theme hidden lg:block",children:"规则"}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:["流量分流规则管理 • 共 ",l," 条规则"]})]})]}),e.jsxs(k,{variant:"outline",size:"sm",onClick:()=>i(),className:"text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"刷新"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(p,{className:"overflow-hidden border-0 shadow-lg card-hover",children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-slate-600 to-slate-700 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:l}),e.jsx("div",{className:"text-xs text-theme-secondary font-medium",children:"总规则数"})]})]})})}),e.jsx(p,{className:"overflow-hidden border-0 shadow-lg card-hover",children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-zinc-600 to-zinc-700 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-zinc-700 dark:text-zinc-300",children:u}),e.jsx("div",{className:"text-xs text-theme-secondary font-medium",children:"规则提供者"})]})]})})}),e.jsx(p,{className:"overflow-hidden border-0 shadow-lg card-hover",children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-stone-600 to-stone-700 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v14a2 2 0 002 2h8a2 2 0 002-2V6a2 2 0 00-2-2"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-stone-700 dark:text-stone-300",children:c.length}),e.jsx("div",{className:"text-xs text-theme-secondary font-medium",children:"规则类型"})]})]})})})]}),e.jsx(p,{className:"overflow-hidden border-0 shadow-lg",children:e.jsx(j,{className:"p-0",children:e.jsxs("div",{className:"flex border-b border-theme",children:[e.jsxs("button",{onClick:()=>y("rules"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${g==="rules"?"text-slate-700 dark:text-slate-300 border-b-2 border-slate-500 bg-slate-50 dark:bg-slate-800/50":"text-theme-secondary hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"规则列表 (",l,")"]}),e.jsxs("button",{onClick:()=>y("providers"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${g==="providers"?"text-slate-700 dark:text-slate-300 border-b-2 border-slate-500 bg-slate-50 dark:bg-slate-800/50":"text-theme-secondary hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"规则提供者 (",u,")"]})]})})}),g==="rules"&&e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"overflow-hidden border-0 shadow-lg card-hover",children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"搜索规则内容或代理...",value:d,onChange:a=>f(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-theme rounded-lg bg-surface text-theme focus:ring-2 focus:ring-slate-500 focus:border-slate-500 transition-colors"})]}),e.jsx("div",{children:e.jsxs("select",{value:x,onChange:a=>v(a.target.value),className:"px-3 py-2 border border-theme rounded-lg bg-surface text-theme focus:ring-2 focus:ring-slate-500 focus:border-slate-500 transition-colors",children:[e.jsx("option",{value:"all",children:"所有类型"}),c.map(a=>e.jsx("option",{value:a,children:a},a))]})})]})})}),e.jsx(p,{className:"overflow-hidden border-0 shadow-lg",children:e.jsx(j,{className:"p-4",children:b.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-xl font-semibold text-theme mb-3",children:d||x!=="all"?"没有找到匹配的规则":"暂无规则"}),e.jsx("p",{className:"text-theme-secondary max-w-md mx-auto",children:d||x!=="all"?"尝试调整搜索条件或筛选器":"当前没有配置任何规则"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-theme-secondary pb-2 border-b border-theme",children:[e.jsxs("span",{children:["显示 ",b.length," 条规则"]}),e.jsx("span",{children:"按优先级排序"})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto custom-scrollbar",children:e.jsx(z,{items:b,height:384,itemHeight:60,renderItem:(a,o)=>e.jsx("div",{className:"border border-theme rounded-lg p-3 m-2 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-full font-medium",children:a.type}),e.jsx("span",{className:"text-sm font-medium text-theme truncate",children:a.payload})]}),e.jsxs("div",{className:"text-xs text-theme-secondary",children:[e.jsx("span",{className:"font-medium",children:"代理: "}),e.jsx("span",{className:"text-theme-secondary",children:a.proxy})]})]}),e.jsxs("div",{className:"text-xs text-theme-tertiary text-right",children:["#",o+1]})]})},o),className:"space-y-0"})})]})})})]}),g==="providers"&&e.jsx(p,{className:"overflow-hidden border-0 shadow-lg",children:e.jsx(j,{className:"p-4",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("h3",{className:"text-xl font-semibold text-theme mb-3",children:"暂无规则提供者"}),e.jsx("p",{className:"text-theme-secondary max-w-md mx-auto",children:"当前没有配置任何规则提供者"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-theme-secondary pb-2 border-b border-theme",children:[e.jsxs("span",{children:["共 ",r.length," 个规则提供者"]}),e.jsx("span",{children:"实时状态"})]}),e.jsx("div",{className:"grid gap-4",children:e.jsx(z,{items:r,height:400,itemHeight:120,renderItem:(a,o)=>e.jsx("div",{className:"border border-theme rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-medium text-theme",children:a.name}),e.jsx("span",{className:"text-xs px-2 py-1 bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 rounded-full",children:a.type})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-secondary",children:"行为:"}),e.jsx("div",{className:"font-medium text-theme",children:a.behavior||"domain"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-secondary",children:"规则数:"}),e.jsx("div",{className:"font-medium text-theme",children:a.ruleCount||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-secondary",children:"载体:"}),e.jsx("div",{className:"font-medium text-theme",children:a.vehicleType||"HTTP"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-secondary",children:"更新时间:"}),e.jsx("div",{className:"font-medium text-theme",children:a.updatedAt?new Date(a.updatedAt).toLocaleString():"未知"})]})]})]}),e.jsx(k,{variant:"outline",size:"sm",className:"ml-4 text-xs",children:"更新"})]})},a.name)})})]})})})]})})})})},G=()=>e.jsx(S,{children:e.jsx(O,{})});export{G as Rules};
